webpackJsonp([10],{570:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),o=s(r),n=a(92),c=s(n),u=a(144),d=s(u);a(145);var p=a(146),y=a(142);t.default={namespace:"categorys",state:{goodsCategorys:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){"/categorys"===e.pathname&&t({type:"query"})})}},effects:{query:c.default.mark(function e(t,a){var s,r,o,n=(t.payload,a.select),u=a.call,f=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(s=e.sent.app,!(s.goodsCategorys.length>0)){e.next=8;break}return e.next=6,f({type:"setState",payload:{goodsCategorys:s.goodsCategorys}});case 6:e.next=24;break;case 8:return e.next=10,u(p.goodsCategorys);case 10:if(r=e.sent,!(o=r.data)){e.next=23;break}if("0000"!=o.head.code){e.next=20;break}return e.next=16,f({type:"app/setState",payload:{goodsCategorys:o.body.goodsCategorys}});case 16:return e.next=18,f({type:"setState",payload:{goodsCategorys:o.body.goodsCategorys}});case 18:e.next=21;break;case 20:(0,y.ajaxFail)(o);case 21:e.next=24;break;case 23:d.default.error("\u7f51\u7edc\u5f02\u5e38");case 24:case"end":return e.stop()}},e,this)})},reducers:{setState:function(e,t){return(0,o.default)({},e,t.payload)}}},e.exports=t.default}});